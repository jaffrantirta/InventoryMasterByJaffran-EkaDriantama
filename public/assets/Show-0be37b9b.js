import{j as r,a as e,R as F,r as u,_ as J,W as P,n as $,d as x,F as H}from"./app-c2e52a93.js";import{P as N}from"./PrimaryButton-d03adcf2.js";import{A as I}from"./AuthenticatedLayout-7e7bb6fa.js";import{P as M}from"./Paginate-6440b45e.js";import{T as A,a,n as b}from"./TableHeader-c6fdd518.js";import{h as B}from"./moment-fbc5633a.js";import K from"./ModalJournal-525b7ff9.js";import{T as L}from"./TextInput-aa3fc491.js";import{t as _}from"./transition-a4acc27a.js";import"./ApplicationLogo-b0e4221b.js";import"./Dropdown-e42d57b0.js";import"./InputError-dda5b5b1.js";import"./InputLabel-b6c5a941.js";import"./Modal-a9ea5355.js";function E({heads:o,contents:s,onClick:f}){return r("div",{children:[r("p",{className:"font-bold text-lg text-center md:text-left my-3",children:["Total: ",s.total]}),e("div",{className:"overflow-x-auto",children:r("table",{className:"w-full",children:[e("thead",{className:"",children:e("tr",{className:"text-center font-bold text-xl",children:o.map((l,n)=>e(A,{title:l},n))})}),e("tbody",{children:s.data.map((l,n)=>r(F.Fragment,{children:[r("tr",{className:"border-b",children:[e(a,{className:"text-center",children:s.from+n}),e(a,{className:"text-center",children:B(l.date).format("LL")}),e(a,{children:l.description}),e(a,{children:""}),e(a,{children:""}),e(a,{children:""}),e(a,{children:""})]}),l.journal_details.map((c,d)=>r("tr",{className:"border-b",children:[e(a,{children:""}),e(a,{children:""}),e(a,{children:""}),e(a,{children:c.account.code}),e(a,{children:c.account.name}),e(a,{className:"text-right",children:b(c.debit).format("0,0.00")}),e(a,{className:"text-right",children:b(c.credit).format("0,0.00")})]},d))]},n))})]})}),e(M,{contents:s})]})}function le({auth:o,journals:s,roles:f}){const l=u.useRef(null),[n,c]=u.useState(!1),{data:d,setData:m,post:g,processing:k,errors:y,reset:v,recentlySuccessful:w}=J({name:"",price:0,stock:0}),T=t=>{t.preventDefault(),g(route("journal.store")),C()},C=()=>{v(),c(!1),l.current.scrollTop=0},p=(t,U)=>{t==="cancel"&&c(!1)},S=t=>{t.field==="name"&&m("name",t.value),t.field==="price"&&m("price",t.value),t.field==="stock"&&m("stock",t.value)},[h,R]=u.useState(""),j=t=>{R(t.target.value)},{url:i}=P(),D=h?i.includes("?search")?`${i.split("?search")[0]}?search=${encodeURIComponent(h)}`:`${i}?search=${encodeURIComponent(h)}`:i;return r(I,{roles:f,user:o.user,header:e("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Jurnal Umum"}),children:[e($,{title:"Jurnal Umum"}),e("div",{ref:l}),e("div",{className:"p-5",children:e(_,{show:w,enterFrom:"opacity-0",leaveTo:"opacity-0",className:"transition ease-in-out bg-slate-200 p-3 rounded-3xl",children:e("p",{className:"text-slate-900 dark:text-slate-600 text-center font-bold text-xl",children:"Sukses!"})})}),r("div",{className:"p-10 dark:text-slate-200",children:[r("div",{className:"flex justify-between",children:[r("div",{className:"flex gap-5",children:[e(L,{className:"my-4",placeholder:"pencarian...",onChange:j}),e(x,{href:D,children:e(N,{className:"my-5 w-full md:w-fit",children:e("p",{className:"w-full text-center",children:"Cari"})})})]}),e(N,{className:"my-5 w-full md:w-fit",children:e("p",{className:"w-full text-center",children:e(x,{href:route("journal.create"),children:"Tambah"})})})]}),e(E,{heads:["No.","Tanggal","Deskripsi","Kode akun","Reff","Debit","Kredit"],contents:s,onClick:(t,U)=>p(t)})]}),e(K,{submit:t=>T(t),data:d,errors:y,processing:k,setData:t=>S(t),showModel:n,onClick:t=>p(t)}),s.data.length===0?e("p",{className:"text-xl my-10 text-center dark:text-white",children:"Tidak ada data."}):e(H,{})]})}export{le as default};
