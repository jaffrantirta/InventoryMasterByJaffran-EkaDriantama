import{r as l,_ as I,j as b,a as t,n as F,F as M}from"./app-c2e52a93.js";import{P as R}from"./PrimaryButton-d03adcf2.js";import{A as E}from"./AuthenticatedLayout-7e7bb6fa.js";import H from"./TableAccount-7096bcc5.js";import K from"./ModalAccount-c3a0315f.js";import{t as P}from"./transition-a4acc27a.js";import"./ApplicationLogo-b0e4221b.js";import"./Dropdown-e42d57b0.js";import"./Paginate-6440b45e.js";import"./TableHeader-c6fdd518.js";import"./InputError-dda5b5b1.js";import"./InputLabel-b6c5a941.js";import"./Modal-a9ea5355.js";import"./TextInput-aa3fc491.js";function ee({auth:k,status:U,accounts:f,roles:g}){const u=l.useRef(null),[y,s]=l.useState(!1),[m,o]=l.useState(!1),[n,c]=l.useState(!1),[p,r]=l.useState(0),{data:N,setData:i,post:v,patch:S,delete:w,processing:A,errors:h,reset:_,recentlySuccessful:C,hasErrors:d}=I({name:"",code:"",classification:"",initial_balance:0}),D=e=>{e.preventDefault(),m&&S(route("account.update",{id:p})),n&&w(route("account.destroy",{id:p})),!m&&!n&&v(route("account.store")),T()},T=()=>{_(),s(!1),o(!1),c(!1),r(0),u.current.scrollTop=0},x=(e,a)=>{console.log(a),e==="edit"&&(i({name:a.name,code:a.code,classification:a.classification,initial_balance:a.initial_balance}),r(a.id),o(!0),s(!0)),e==="delete"&&(c(!0),r(a.id),s(!0)),e==="cancel"&&(s(!1),c(!1),o(!1))},j=e=>{e.field==="name"&&i("name",e.value),e.field==="code"&&i("code",e.value),e.field==="classification"&&i("classification",e.value),e.field==="initial_balance"&&i("initial_balance",e.value)};return b(E,{user:k.user,roles:g,header:t("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Akun"}),children:[t(F,{title:"Akun"}),t("div",{ref:u}),t("div",{className:"p-5",children:t(P,{show:C||d,enterFrom:"opacity-0",leaveTo:"opacity-0",className:`transition ease-in-out ${d?"bg-red-200":"bg-slate-200"} p-3 rounded-3xl`,children:t("p",{className:"text-slate-900 dark:text-slate-600 text-center font-bold text-xl",children:d?h.message:"Sukses!"})})}),b("div",{className:"p-10 dark:text-slate-200",children:[t("div",{className:"flex justify-end",children:t(R,{className:"my-5 w-full md:w-fit",onClick:()=>s(!0),children:t("p",{className:"w-full text-center",children:"Tambah"})})}),t(H,{heads:["No.","Klasifikasi","Kode","Nama","Saldo awal (Rp)","Aksi"],contents:f,onClick:(e,a)=>x(e,a)})]}),t(K,{submit:e=>D(e),data:N,errors:h,isDelete:n,processing:A,setData:e=>j(e),showModel:y,onClick:e=>x(e)}),f.data.length===0?t("p",{className:"text-xl my-10 text-center dark:text-white",children:"Tidak ada data."}):t(M,{})]})}export{ee as default};
